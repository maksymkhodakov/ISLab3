# Ходаков Максим ТТП-42 
## Лабораторна робота №3 з дисципліни "Інтелектуальні системи"

----
### Виконання вимог:

1. **Список груп G**, у кожної з яких є N студентів (списку студентів не потрібно, тільки кількість), кількість не змінюється протягом навчання. Аналогічно поділ на підгрупи по кількості людей заданий першо-початково (беріть що поділ приблизно навпіл);

   **Реалізація**:

   - У модулі `file_processor.py` функція `load_groups` завантажує дані про групи з файлу `groups.csv`. Кожна група має ідентифікатор та кількість студентів (`NumStudents`), а також список підгруп (`Subgroups`). Поділ на підгрупи заданий початково і приблизно навпіл.

2. **Програма для кожної групи**: перелік Pi предметів для кожної групи i, з визначеною кількістю годин T для кожного предмету на семестр (має бути задано час як і для лекцій так і для практичних/лабораторних), деякі предмети можуть вимагати поділ на групи;

   **Реалізація**:

   - Функція `load_subjects` у `file_processor.py` завантажує список предметів з файлу `subjects.csv`. Кожен предмет має кількість годин для лекцій (`NumLectures`) та практичних/лабораторних занять (`NumPracticals`), а також інформацію про те, чи потребує предмет поділу на підгрупи (`RequiresSubgroups`).

3. **Список з L лекторами**, у яких відомо обмеження (необов'язково, дивіться нежорсткі умови), а саме які предмети вони можуть проводити і які типи занять з цих предметів;

   **Реалізація**:

   - Функція `load_lecturers` у `file_processor.py` завантажує дані про викладачів з файлу `lecturers.csv`. Для кожного викладача відомо список предметів, які він може викладати (`SubjectsCanTeach`), та типи занять (`TypesCanTeach`).

4. **Список з A аудиторіями**, які можуть вміщати m студентів (кількість аудиторій трохи більша за кількість груп);

   **Реалізація**:

   - Функція `load_auditoriums` у `file_processor.py` завантажує дані про аудиторії з файлу `auditoriums.csv`. Кожна аудиторія має ідентифікатор та місткість (`capacity`). Кількість аудиторій трохи більша за кількість груп.

5. **Максимум на тиждень 4х5 = 20 пар**, 1 пара = 1.5 години, і в семестрі ~14 тижнів (загалом обмеження на довжину семестру немає, але це приблизний орієнтир);

   **Реалізація**:

   - У коді визначено константи `DAYS_PER_WEEK = 5` та `LESSONS_PER_DAY = 4`, що дає 20 пар на тиждень. Часові слоти формуються відповідно до цих констант, а тривалість пари приймається як 1.5 години.

6. **Списки зробіть, щоб випадково генерувалися на ваш розсуд**, бо під час перевірки буде прохання змінювати значення кількості і в залежності від них, щоб ви могли спокійно показували результат;

   **Реалізація**:

   - Модуль `randomizer.py` містить функції `generate_random_groups`, `generate_random_subjects`, `generate_random_lecturers`, `generate_random_auditoriums`, які генерують випадкові дані для груп, предметів, викладачів та аудиторій. Це дозволяє легко змінювати кількість елементів та перевіряти роботу програми.

7. **Прохання зробити більш менш читабельний вивід розкладу**.

   **Реалізація**:

   - У `main.py` функція `print_schedule` форматує та виводить розклад у читабельному форматі, відображаючи часові слоти, групи, предмети, типи занять, викладачів та аудиторії. Це забезпечує зручне сприйняття розкладу.

8. **Python мова програмування**. Формати даних, перш за все списки чи значення для генерації, мають бути людино-орієнтовані (наприклад csv). Це для того, щоб можна було легко міняти дані ззовні не залізаючи в код.

   **Реалізація**:

   - Програма написана на Python. Вхідні дані зберігаються у CSV-файлах (`groups.csv`, `subjects.csv`, `lecturers.csv`, `auditoriums.csv`), що дозволяє легко редагувати їх без змін у коді.

9. **Розклад як у нас в КНУ** (не американський чи шкільний чи ще якийсь).

   **Реалізація**:

   - Розклад побудований відповідно до типової системи вищих навчальних закладів України, з урахуванням парних/непарних тижнів, кількості пар на день та тривалості занять.

10. **Жорсткі обмеження** (мають обов'язково виконуватися):

    - Один лектор повинен одночасно проводити заняття тільки в одній аудиторії;
    - Одна група може мати лише одне заняття в один період часу;
    - Одна аудиторія може використовуватися одночасно лише під одне заняття.

    Зауважте, що в одній аудиторії може навчатися декілька груп одночасно, у одного лектора, але тільки для лекцій.

    **Реалізація**:

    - У методі `fitness` класу `Schedule` перевіряються жорсткі обмеження. Для викладачів, груп та аудиторій ведеться облік зайнятих часових слотів, і в разі конфлікту нараховується штраф за порушення жорстких обмежень.
    - Дозволено проводити спільні лекції для декількох груп, якщо вони читаються одним викладачем в одній аудиторії.

11. **Нежорсткі вимоги** (мінімально має бути виконано):

    - Щоб було якомога менше “вікон” в індивідуальних розкладах викладачів та студентів;
    - Заняття не може проводитися, якщо група більша за кількість місць в аудиторії;
    - Обмеження по викладачам: список предметів та типів занять, що викладач може вести.

    **Реалізація**:

    - Альтернативна функція оцінки `fitness_alternative` враховує кількість "вікон" у розкладах викладачів та груп, нараховуючи додаткові штрафи за кожне "вікно".
    - У функції `fitness` перевіряється, чи місткість аудиторії достатня для групи. Якщо аудиторія замала, нараховується штраф за порушення нежорсткого обмеження.
    - При генерації подій враховуються обмеження по викладачах: викладач може викладати лише ті предмети та типи занять, які зазначені в його профілі (`SubjectsCanTeach` та `TypesCanTeach`).

12. **Підгрупи стабільні**. Наприклад, "ТТП 1п/г" не міняє склад протягом навчання.

    **Реалізація**:

    - Підгрупи визначаються в даних про групи (`Subgroups` у файлі `groups.csv`) та залишаються незмінними протягом планування розкладу. При створенні подій для предметів, що вимагають поділу на підгрупи, враховуються ці підгрупи.

13. **Базовий алгоритм лише забезпечує стабільність розміру популяції**.

    **Реалізація**:

    - Генетичний алгоритм підтримує стабільний розмір популяції, визначений змінною `population_size`. Після кожного покоління розмір популяції контролюється та зберігається стабільним шляхом відбору та генерації нових розкладів.

14. **Парні/непарні тижні**;

    **Реалізація**:

    - У коді реалізовано підтримку парних/непарних тижнів через константу `WEEK_TYPE = ['EVEN', 'ODD']`. Часові слоти та планування занять враховують тип тижня, що дозволяє розподіляти заняття по парних та непарних тижнях.

15. **Обмеження по викладачам**: список предметів та типів занять, що викладач може вести, та кількість годин на тиждень (зауважте, що це взято з нежорстких вимог і тут додалось обмеження по кількості годин на тиждень на викладача);

    **Реалізація**:

    - Кожен викладач має визначені список предметів (`SubjectsCanTeach`) та типів занять (`TypesCanTeach`), які він може проводити. Ця інформація використовується при генерації розкладу.
    - Обмеження по максимальній кількості годин на тиждень для викладача (`MaxHoursPerWeek`) перевіряється у функції `fitness`. Якщо викладач перевищує це обмеження, нараховується штраф за порушення жорсткого обмеження.

16. **Реалізація "травоїдного" згладжування навколо оптимуму, для найкращого глобального оптимуму**;

    **Реалізація**:

    - Функція `herbivore_smoothing` реалізує "травоїдне" згладжування, додаючи до популяції варіації найкращого розкладу з невеликою мутацією. Це дозволяє дослідити простір навколо поточного локального оптимуму в пошуках глобального.

17. **Реалізація "хижого" підходу**;

    **Реалізація**:

    - Функція `predator_approach` реалізує "хижий" підхід, видаляючи найгірші розклади з популяції. Це сприяє еволюції популяції шляхом збереження лише найкращих рішень.

18. **Реалізація "дощу"**;

    **Реалізація**:

    - Функція `rain` додає нові випадкові розклади до популяції, імітуючи "дощ" нових генів. Це забезпечує генетичне різноманіття та запобігає передчасній конвергенції алгоритму.

19. **Різні функціонали якості (принаймні 2)**;

    **Реалізація**:

    - У класі `Schedule` реалізовано дві функції оцінки розкладу:
      - `fitness`: основна функція, що враховує порушення жорстких та м'яких обмежень.
      - `fitness_alternative`: альтернативна функція, що додатково враховує кількість "вікон" у розкладі викладачів та студентів.

20. **Нетривіальна мутація**.

    **Реалізація**:

    - У функції `mutate` реалізовано нетривіальну мутацію шляхом обміну часовими слотами між парами подій. Це дозволяє зберегти структуру розкладу та досліджувати нові конфігурації, що можуть покращити загальну пристосованість розкладу.

----
